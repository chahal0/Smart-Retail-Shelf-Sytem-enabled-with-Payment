{% extends 'base.html' %}
{% block content %}
<div class="container" style="padding: 4rem 0;">
    <h1>Upload Data</h1>
    <form method="post" enctype="multipart/form-data" style="margin-top: 2rem; background: white; padding: 2rem; border-radius: 1rem;">
        {% csrf_token %}
        <div style="margin-bottom: 1rem;">
            <label>Select CSV File</label><br>
            <input type="file" name="csv_file" accept=".csv" required>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
        {% if error_message %}
        <p style="color: red; margin-top: 1rem;">{{ error_message }}</p>
        {% endif %}
    </form>
    
    {% if products_list %}
    <div style="margin-top: 2rem;">
        <h3>Uploaded Products ({{ total_products }})</h3>
        <ul>
        {% for p in products_list %}
            <li>{{ p }}</li>
        {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
